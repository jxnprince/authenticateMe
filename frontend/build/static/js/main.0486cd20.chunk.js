(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,n){},44:function(e,t,n){},50:function(e,t,n){},60:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t){},75:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),a=n(18),r=n.n(a),i=(n(44),n(2)),o=n(9),u=n(14),l=n(6),j=n(7),d=n(4),b=n.n(d),m=n(8),O=n(38),h=n.n(O);function p(e){return f.apply(this,arguments)}function f(){return(f=Object(m.a)(b.a.mark((function e(t){var n,s,c=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=c.length>1&&void 0!==c[1]?c[1]:{}).method=n.method||"GET",n.headers=n.headers||{},"GET"!==n.method.toUpperCase()&&(n.headers["Content-Type"]=n.headers["Content-Type"]||"application/json",n.headers["XSRF-Token"]=h.a.get("XSRF-TOKEN")),e.next=6,window.fetch(t,n);case 6:if(!((s=e.sent).status>=400)){e.next=9;break}throw s;case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x="session/setUser",v="session/removeUser",g=function(e){return{type:x,payload:e}},N={user:null},y=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case x:return(e=Object.assign({},t)).user=n.payload,e;case v:return(e=Object.assign({},t)).user=null,e;default:return t}},w=(n(50),n(16)),S=n.n(w),k="loginModal/active",C="loginModal/deactivate",E="signUpModal/active",I="signUpModal/deactivate",L=function(){return{type:E}},M={login:!1,signup:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object.assign({},e,{login:!0});case C:return Object.assign({},e,{login:!1});case E:return Object.assign({},e,{signup:!0});case I:return Object.assign({},e,{signup:!1});default:return e}},T=(n(60),n(0));S.a.setAppElement(document.getElementById("root"));var D={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};var F=function(){var e=Object(i.b)(),t=(Object(j.f)(),Object(i.c)((function(e){return e.modal.login}))),n=Object(s.useState)(""),c=Object(l.a)(n,2),a=c[0],r=c[1],o=Object(s.useState)(""),u=Object(l.a)(o,2),d=u[0],O=u[1],h=Object(s.useState)([]),f=Object(l.a)(h,2),x=f[0],v=f[1];return Object(T.jsx)("div",{className:"modal-box",children:Object(T.jsx)(S.a,{isOpen:t,onRequestClose:function(){e({type:C})},style:D,contentLabel:"Example Modal",children:Object(T.jsxs)("form",{className:"login-form",onSubmit:function(t){return t.preventDefault(),v([]),e((n={credential:a,password:d},function(){var e=Object(m.a)(b.a.mark((function e(t){var s,c,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.credential,c=n.password,e.next=3,p("/api/session",{method:"POST",body:JSON.stringify({credential:s,password:c})});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,t(g(r.user)),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).catch(function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:(n=e.sent)&&n.errors&&v(n.errors);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var n},children:[Object(T.jsx)("ul",{children:x.map((function(e,t){return Object(T.jsx)("li",{children:e},t)}))}),Object(T.jsx)("label",{children:Object(T.jsx)("input",{className:"input",placeholder:"Your User Name or Email",type:"text",value:a,onChange:function(e){return r(e.target.value)},required:!0})}),Object(T.jsx)("label",{children:Object(T.jsx)("input",{className:"input",placeholder:"Password",type:"password",value:d,onChange:function(e){return O(e.target.value)},required:!0})}),Object(T.jsx)("button",{className:"login-button",type:"submit",children:"Sign In"}),Object(T.jsxs)("div",{className:"auth-method-separator",children:[Object(T.jsx)("div",{className:"before-or"}),Object(T.jsx)("span",{children:"or"}),Object(T.jsx)("div",{className:"after-or"})]}),Object(T.jsx)("button",{className:"demo-login-button",type:"button",onClick:function(t){return t.preventDefault(),e(function(){var e=Object(m.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=4,p("/api/session",{method:"POST",body:JSON.stringify({credential:"Demo",password:"password"})});case 4:return n=e.sent,e.next=7,n.json();case 7:return s=e.sent,t(g(s.user)),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Sign in as Demo User"})]})})})};n(63);S.a.setAppElement(document.getElementById("root"));var q={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};var R=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.modal.signup})),n=Object(s.useState)(""),c=Object(l.a)(n,2),a=c[0],r=c[1],o=Object(s.useState)(""),u=Object(l.a)(o,2),j=u[0],d=u[1],O=Object(s.useState)(""),h=Object(l.a)(O,2),f=h[0],x=h[1],v=Object(s.useState)(""),N=Object(l.a)(v,2),y=N[0],w=N[1],k=Object(s.useState)([]),C=Object(l.a)(k,2),E=C[0],L=C[1];return Object(T.jsx)("div",{className:"modal-box",children:Object(T.jsx)(S.a,{isOpen:t,onRequestClose:function(){e({type:I})},style:q,contentLabel:"Example Modal",children:Object(T.jsxs)("form",{className:"signup-form",onSubmit:function(t){return t.preventDefault(),f===y?(L([]),e((n={email:a,username:j,password:f},function(){var e=Object(m.a)(b.a.mark((function e(t){var s,c,a,r,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.username,c=n.email,a=n.password,e.next=3,p("/api/users",{method:"POST",body:JSON.stringify({username:s,email:c,password:a})});case 3:return r=e.sent,e.next=6,r.json();case 6:return i=e.sent,t(g(i.user)),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).catch(function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:(n=e.sent)&&n.errors&&L(n.errors);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):L(["Confirm Password field must be the same as the Password field"]);var n},children:[Object(T.jsx)("div",{className:"welcome-span",children:Object(T.jsx)("span",{children:"Create a Middle8 account!"})}),Object(T.jsx)("ul",{children:E.map((function(e,t){return Object(T.jsx)("li",{children:e},t)}))}),Object(T.jsx)("label",{children:Object(T.jsx)("input",{className:"input",placeholder:"Email",type:"text",value:a,onChange:function(e){return r(e.target.value)},required:!0})}),Object(T.jsx)("label",{children:Object(T.jsx)("input",{className:"input",placeholder:"Username",type:"text",value:j,onChange:function(e){return d(e.target.value)},required:!0})}),Object(T.jsx)("label",{children:Object(T.jsx)("input",{className:"input",placeholder:"Password",type:"password",value:f,onChange:function(e){return x(e.target.value)},required:!0})}),Object(T.jsx)("label",{children:Object(T.jsx)("input",{className:"input",placeholder:"Confirm Password",type:"password",value:y,onChange:function(e){return w(e.target.value)},required:!0})}),Object(T.jsx)("button",{className:"signup-button",type:"submit",children:"Create account"})]})})})};n(64);var U=function(e){e.user;var t=Object(i.b)(),n=Object(j.f)(),c=Object(s.useState)(!1),a=Object(l.a)(c,2),r=a[0],o=a[1];return Object(s.useEffect)((function(){if(r){var e=function(){o(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[r]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("button",{className:"ellipsis-button",onClick:function(){r||o(!0)},children:Object(T.jsx)("i",{className:"fas fa-ellipsis-h",icon:"ellipsis-h"})}),r&&Object(T.jsx)("div",{className:"profile-dropdown",children:Object(T.jsx)("div",{className:"logout-button-div",children:Object(T.jsx)("button",{className:"logout-button",onClick:function(e){e.preventDefault(),n.push("/"),t(function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/api/session",{method:"DELETE"});case 2:return n=e.sent,t({type:v}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Log Out"})})})]})},J=(n(65),n.p+"static/media/stock-image-1.007addd5.jpg"),A=n.p+"static/media/stock-image-2.ef478801.jpg",G=function(e){var t=e.activeIndex,n=e.index,s=e.onClick;return Object(T.jsx)("div",{className:"carousel-button "+(t===n?"carousel-button-active":""),onClick:function(){return s(n)}})},B=function(){var e=Object(s.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(i.b)();Object(s.useEffect)((function(){var e=setInterval((function(){c((n+1)%2)}),8e3);return function(){return clearInterval(e)}}),[n]);var r="translateX(".concat(-50*n,"%)");return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"carousel",style:{transform:r},children:[Object(T.jsx)("div",{className:"carousel-item",style:{backgroundImage:"url(".concat(A,")")},children:Object(T.jsxs)("div",{className:"splash-carousel-center",children:[Object(T.jsx)("h2",{className:"splash-carousel-header",children:"Discover more with Middle8 go+"}),Object(T.jsx)("p",{className:"splash-carousel-header-p",children:"Middle8 go+ lets you listen offline, ad-free, with over 150 million tracks - and growing."}),Object(T.jsx)("button",{className:"large-button-orange",onClick:function(){a(L())},children:"Create account today"})]})}),Object(T.jsx)("div",{className:"carousel-item",style:{backgroundImage:"url(".concat(J,")")}})]}),Object(T.jsxs)("div",{className:"carousel-button-container",children:[Object(T.jsx)(G,{activeIndex:n,index:0,onClick:c}),Object(T.jsx)(G,{activeIndex:n,index:1,onClick:c})]})]})},X="songs/getSongs",_="songs/getSong",H=function(e){return{type:X,payload:e}},W=function(e){return function(){var t=Object(m.a)(b.a.mark((function t(n){var s,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p("/api/songs/".concat(e));case 2:return s=t.sent,t.next=5,s.json();case 5:c=t.sent,n({type:_,payload:c});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(e){return function(){var e=Object(m.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/api/songs");case 2:return n=e.sent,e.next=5,n.json();case 5:s=e.sent,t(H(s));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K={songs:[],activeSongId:-1},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(u.a)(Object(u.a)({},e),{},{songs:t.payload.songs});case _:return Object(u.a)(Object(u.a)({},e),{},{currentSong:t.payload.song,activeSongId:t.payload.song.id});default:return e}};n(66);var Q=function(e){var t=e.song;return Object(i.b)(),Object(T.jsxs)("div",{className:"tile-container",children:[Object(T.jsx)("img",{src:t.image}),Object(T.jsx)("p",{className:"song-title",children:t.title})]})};var V=function(e){var t,n=e.isLoaded,c=Object(i.b)(),a=Object(j.f)(),r=Object(i.c)((function(e){return e.session.user})),o=Object(i.c)((function(e){return e.song.songs}));function u(){c(L())}function l(){c({type:k})}return Object(s.useEffect)((function(){r&&a.push("/dashboard")}),[r]),Object(s.useEffect)((function(){c(Y())}),[]),t=r?Object(T.jsx)(U,{user:r}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("button",{onClick:function(){return l()},className:"splash-login",children:"Sign in"}),Object(T.jsx)(F,{})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("button",{onClick:function(){return u()},className:"splash-signup",children:"Create account"}),Object(T.jsx)(R,{})]})]}),Object(T.jsxs)("div",{className:"splash",children:[Object(T.jsx)("div",{className:"splash-top-line"}),Object(T.jsxs)("div",{className:"splash-banner-container",children:[Object(T.jsxs)("div",{className:"splash-banner-navbar",children:[Object(T.jsx)("div",{className:"splash-banner-left"}),Object(T.jsx)("div",{className:"splash-banner-right",children:n&&t})]}),Object(T.jsx)("div",{className:"overflow-hidden position-relative",children:Object(T.jsx)(B,{})})]}),Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{className:"splash-trending-container",children:[Object(T.jsx)("h3",{children:"See what's trendng~!"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"splash-trending-tracks",children:o.map((function(e){return Object(T.jsx)(Q,{song:e},e.id)}))}),Object(T.jsx)("div",{className:"splash-button-row"})]})]}),Object(T.jsx)("div",{className:"orange-line"})]}),Object(T.jsx)("div",{className:"splash-creators",children:Object(T.jsxs)("div",{className:"splash-creators-text",children:[Object(T.jsx)("h1",{className:"splash-header",children:"Calling all creators"}),Object(T.jsx)("h3",{children:"Get on Middle8 to connect with fans, share your sounds, and grow your audience. What are you waiting for?"}),Object(T.jsx)("button",{onClick:function(){return u()},children:"Find Out More"})]})}),Object(T.jsxs)("div",{className:"splash-footer",children:[Object(T.jsx)("a",{href:"https://github.com/jxnprince/middle8",children:"GitHub"}),Object(T.jsx)("p",{children:"-"}),Object(T.jsx)("a",{href:"https://www.linkedin.com/in/jackson-prince-4b3a637b/",children:"Linkedin"})]})]})},Z=n(25),$=n(22);var ee=function(e){return Object(T.jsxs)("div",{className:"c-player--controls",children:[Object(T.jsx)("button",{className:"skip-btn",onClick:function(){return e.SkipSong(!1)},children:Object(T.jsx)(Z.a,{icon:$.a})}),Object(T.jsx)("button",{className:"play-btn",onClick:function(){return e.setIsPlaying(!e.isPlaying)},children:Object(T.jsx)(Z.a,{icon:e.isPlaying?$.c:$.d})}),Object(T.jsx)("button",{className:"skip-btn",onClick:function(){return e.SkipSong()},children:Object(T.jsx)(Z.a,{icon:$.b})})]})};var te=function(e){return Object(T.jsxs)("div",{className:"c-player--details",children:[Object(T.jsx)("div",{className:"details-img",children:Object(T.jsx)("img",{src:e.song.image,alt:""})}),Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{className:"details-title",children:e.song.title}),Object(T.jsx)("h4",{className:"details-artist",children:e.song.artistName})]})]})};n(36);var ne=function(e){var t=Object(s.useRef)(null),n=Object(s.useState)(!1),c=Object(l.a)(n,2),a=c[0],r=c[1];return Object(s.useEffect)((function(){var e,n;a?null===(e=t.current)||void 0===e||e.play():null===(n=t.current)||void 0===n||n.pause()}),[a,t]),e.songs[e.currentSongIndex]?Object(T.jsxs)("div",{className:"c-player",children:[Object(T.jsx)("audio",{src:e.songs[e.currentSongIndex].audioFile,ref:t}),Object(T.jsx)(te,{song:e.songs[e.currentSongIndex]}),Object(T.jsx)(ee,{isPlaying:a,setIsPlaying:r,SkipSong:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?e.setCurrentSongIndex((function(){var t=e.currentSongIndex;return++t>e.songs.length-1&&(t=0),t})):e.setCurrentSongIndex((function(){var t=e.currentSongIndex;return--t<0&&(t=e.songs.length-1),t}))}}),Object(T.jsxs)("div",{className:"next-up",children:["Next up:",Object(T.jsxs)("span",{children:[null===e||void 0===e?void 0:e.songs[e.nextSongIndex].title," by"," ",null===e||void 0===e?void 0:e.songs[e.nextSongIndex].artistName]})]})]}):null};var se=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.song.songs})),n=Object(i.c)((function(e){return e.song.activeSongId})),c=Object(s.useState)(0),a=Object(l.a)(c,2),r=a[0],o=a[1],u=Object(s.useState)(0),j=Object(l.a)(u,2),d=j[0],b=j[1];return Object(s.useEffect)((function(){var e=t.findIndex((function(e){return e.id===n}));o(e)}),[n]),Object(s.useEffect)((function(){e(Y())}),[]),Object(s.useEffect)((function(){b((function(){return r+1>t.length-1?0:r+1}))}),[r]),Object(T.jsx)("div",{className:"music-player",children:Object(T.jsx)(ne,{className:"music-player-main",currentSongIndex:r,setCurrentSongIndex:o,nextSongIndex:d,songs:t})})};n(70);var ce=function(e){var t,n=e.isLoaded,s=Object(j.f)(),c=Object(i.c)((function(e){return e.session.user}));return c?t=Object(T.jsx)(U,{user:c}):s.push("/"),Object(T.jsx)("div",{className:"container navbarContainer",children:Object(T.jsxs)("div",{className:"navbar",children:[Object(T.jsx)(o.b,{className:"navbar-logo",to:"/dashboard"}),Object(T.jsx)(o.b,{className:"navbar-left-link upgrade",to:"/dashboard",children:"Home"}),Object(T.jsxs)("div",{className:"navbar-search",children:[Object(T.jsx)("input",{className:"navbar-search-input",type:"text",placeholder:"Search coming soon"}),Object(T.jsx)("button",{className:"navbar-search-button",children:Object(T.jsx)("i",{className:"fas fa-search"})})]}),Object(T.jsxs)("a",{className:"navbar-user",children:[Object(T.jsx)("div",{className:"navbar-profile-pic"}),c&&Object(T.jsx)("span",{className:"navbar-username",children:c.username})]}),Object(T.jsx)("button",{className:"navbar-icon-button",children:Object(T.jsx)("i",{className:"fas fa-bell",icon:"bell"})}),Object(T.jsx)("button",{className:"navbar-icon-button",children:Object(T.jsx)("i",{className:"fas fa-envelope",icon:"envelope"})}),Object(T.jsx)("button",{className:"navbar-icon-button",children:n&&t})]})})};n(71);var ae=function(e){var t=e.isLoaded,n=Object(i.b)(),c=Object(i.c)((function(e){return e.song.songs})),a=Object(i.c)((function(e){return e.song.currentSong}));return Object(s.useEffect)((function(){return n(W(1))}),[]),Object(s.useEffect)((function(){n(Y())}),[]),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"dark-background",children:Object(T.jsx)(ce,{isLoaded:t})}),Object(T.jsx)(se,{}),Object(T.jsx)("div",{className:"dashboard",children:Object(T.jsxs)("div",{className:"dashboard-main",children:[Object(T.jsxs)("div",{className:"dashboard-content",children:[Object(T.jsx)("p",{children:"Your current playlist"}),Object(T.jsxs)("div",{className:"dashboard-suggested",children:[Object(T.jsx)("div",{className:"suggested-photo",children:Object(T.jsx)("img",{className:"suggested-photo",src:null===a||void 0===a?void 0:a.image})}),Object(T.jsx)("div",{className:"suggested-song-list",children:c?c.map((function(e){return Object(T.jsx)("button",{className:"more-of-what-you-like-button",onClick:function(){n(W(e.id))},children:Object(T.jsx)("div",{className:"small-list",children:Object(T.jsxs)("div",{className:"small-image-and-title",children:[Object(T.jsx)(o.b,{to:"/song/".concat(e.id),children:Object(T.jsx)("img",{className:"small-tile-image",src:e.image})}),Object(T.jsxs)("p",{className:"song-title",children:[e.title," by ",e.artistName]})]})})})})):null})]})]}),Object(T.jsxs)("div",{className:"dashboard-content",children:[Object(T.jsx)("h1",{children:"Top Songs"}),Object(T.jsx)("div",{className:"dashboard-top",children:c?c.map((function(e){return Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{className:"button-outer"}),Object(T.jsxs)("div",{className:"tile-outer",children:[Object(T.jsx)(o.b,{className:"tile-container",to:"/song/".concat(e.id),children:Object(T.jsx)("img",{className:"tile-image",src:e.image})}),Object(T.jsx)("button",{className:"play-button",onClick:function(){n(W(e.id))}}),Object(T.jsx)("p",{className:"song-title",children:e.title})]})]})})):null})]})]})})]})},re=n(32),ie="comment/CREATE_COMMENT",oe="comment/ALL_COMMENTS",ue="comment/DELETE_COMMENT",le=function(e){return{type:ie,payload:e}},je=[],de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return[].concat(Object(re.a)(e),[t.payload]);case oe:return Object(re.a)(t.comments);case ue:return e.filter((function(e){return e.id!==t.commentId}));default:return e}};n(72);function be(e){var t=Object(i.b)(),n=Object(i.c)((function(e){return e.session.user.id}))===e.userId;return Object(T.jsxs)("div",{className:"comment-item-body",children:[Object(T.jsx)("div",{className:"comment-item-content",children:e.body}),n&&Object(T.jsx)("button",{className:"delete-button",onClick:function(){return t((n=e.id,function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/api/comment/delete/".concat(n),{method:"post"});case 2:t({type:ue,commentId:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n},children:"Delete"})]})}n(73);var me=function(e){var t=Object(s.useState)(""),n=Object(l.a)(t,2),c=n[0],a=n[1],r=e.isLoaded,o=Object(i.b)(),d=(Object(j.f)(),Object(i.c)((function(e){return e.song.currentSong}))),O=Object(i.c)((function(e){return e.session.user})),h=Object(i.c)((function(e){return e.comment}));Object(s.useEffect)((function(){var t;o((t=e.match.params.id,function(){var e=Object(m.a)(b.a.mark((function e(n){var s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/api/comment/".concat(t));case 2:return s=e.sent,e.next=5,s.json();case 5:c=e.sent,n((a=c.comments,{type:oe,comments:a}));case 7:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]),console.log(O),Object(s.useEffect)((function(){o(W(e.match.params.id))}),[]);var f=Object.values(h).length>0?Object(T.jsxs)("div",{className:"comments-section",children:[Object(T.jsxs)("div",{className:"comments-header",children:[Object(T.jsx)("i",{class:"fas fa-comment-alt"}),Object(T.jsxs)("div",{class:"comment-count",children:[h.length," ",1===h.length?"comment":"comments"]})]}),Object(T.jsx)("div",{children:h.map((function(e){return Object(s.createElement)(be,Object(u.a)(Object(u.a)({},e),{},{key:e.id}))}))})]}):null;return Object(T.jsxs)("div",{children:[Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:"dark-background",children:Object(T.jsx)(ce,{isLoaded:r})}),Object(T.jsxs)("div",{className:"song-show-page",children:[Object(T.jsxs)("div",{className:"song-banner",children:[Object(T.jsx)("div",{className:"song-show-play"}),Object(T.jsxs)("div",{className:"song-banner-info",children:[Object(T.jsxs)("div",{className:"song-banner-top",children:[Object(T.jsx)("h2",{className:"song-banner-artist",children:null===d||void 0===d?void 0:d.artistName}),Object(T.jsx)("h3",{className:"song-banner-created-at"})]}),Object(T.jsx)("div",{className:"song-banner-bottom",children:Object(T.jsx)("h1",{className:"song-banner-title",children:null===d||void 0===d?void 0:d.title})})]}),Object(T.jsx)("div",{className:"song-banner-photo",children:Object(T.jsx)("img",{src:null===d||void 0===d?void 0:d.image})})]}),Object(T.jsxs)("div",{className:"song-comments",children:[Object(T.jsxs)("div",{className:"song-comments-container",children:[Object(T.jsx)("div",{className:"song-comments-form-container",children:Object(T.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={userId:O.id,comment:c};o(function(e,t){return function(){var n=Object(m.a)(b.a.mark((function n(s){var c,a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p("/api/comment/".concat(t),{method:"POST",body:JSON.stringify({payload:e,id:t})});case 2:return c=n.sent,n.next=5,c.json();case 5:return a=n.sent,s(le(a.comment)),n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,d.id)),a("")},className:"song-comments-form",children:Object(T.jsx)("input",{type:"text",value:c,onChange:function(e){return a(e.target.value)},placeholder:"Write a comment"})})}),Object(T.jsx)("div",{className:"song-comments-stats"}),Object(T.jsx)("div",{className:"song-comments-index"})]}),Object(T.jsx)("div",{className:"song-desc-and-comments",children:f})]})]})]}),";"]})};var Oe,he=function(){var e=Object(i.b)(),t=Object(s.useState)(!1),n=Object(l.a)(t,2),c=n[0],a=n[1];return Object(s.useEffect)((function(){e(function(){var e=Object(m.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/api/session");case 2:return n=e.sent,e.next=5,n.json();case 5:return s=e.sent,t(g(s.user)),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){return a(!0)}))}),[e]),Object(T.jsx)(T.Fragment,{children:c&&Object(T.jsxs)(j.c,{children:[Object(T.jsx)(j.a,{exact:!0,path:"/",children:Object(T.jsx)(V,{isLoaded:c})}),Object(T.jsx)(j.a,{path:"/dashboard",children:Object(T.jsx)(ae,{isLoaded:c})}),Object(T.jsx)(j.a,{path:"/song/:id",component:function(e){return Object(T.jsx)(me,Object(u.a)({isLoaded:c},e))}})]})})},pe=(n(74),n(15)),fe=n(39),xe="musicPlayer/open",ve="musicPlayer/closed",ge={open:!1},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object.assign({},e,{open:!0});case ve:return Object.assign({},e,{open:!1});default:return e}},ye=Object(pe.c)({session:y,modal:P,song:z,musicPlayer:Ne,comment:de});Oe=Object(pe.a)(fe.a);var we=function(e){return Object(pe.d)(ye,e,Oe)}();function Se(){return Object(T.jsx)(i.a,{store:we,children:Object(T.jsx)(o.a,{children:Object(T.jsx)(he,{})})})}r.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(Se,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.0486cd20.chunk.js.map